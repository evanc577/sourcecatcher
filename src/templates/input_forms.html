<div class="inputs">
  <div class="search_wrap">
    <form action="/link">
      <input aria-label="Submit link" id="link_input" type="text" name="url" required placeholder="https://i.imgur.com/QQDz93b.jpg" value="{{ url|e }}" autocomplete="url">
      <button aria-label="Paste a link" id="link_submit_btn" type="submit" value="submit">
        <svg id="search_icon" viewBox="0 0 30 30" fill="none" stroke="#999" stroke-width="2">
          <circle cx="13" cy="13" r="9"/>
          <path d="M26 26l-6.563-6.563" stroke-linecap="round" stroke-miterlimit="10"/>
        </svg>
      </button>
    </form>
  </div>
  <p id="or">OR</p>
  <form id="file_upload_form" action="/upload" method="post" enctype="multipart/form-data">
    <input id="file_input" type="file" name="file" required onchange="form.submit();">
    <label for="file_input" id="file_input_label"/>Upload an image</label>
    <script>
      // show pretty file upload form if js is available
      var file_input = document.getElementById('file_input');
      var file_input_label = document.getElementById('file_input_label');
      file_input.style.width = '1px';
      file_input.style.height = '1px';
      file_input.style.overflow = 'hidden';
      file_input.style.clip = 'rect(0,0,0,0)';
      file_input.style.padding = '0';
      file_input.style.position = 'absoulute !important';
      file_input.style.whiteSpace = 'nowrap';
      file_input.style.border = 0;
      file_input.style.opacity = 0;
      file_input_label.style.display = 'inline-block';

      window.addEventListener('paste', e => {
        if (e.clipboardData.files.length !== 0) {
          file_input.files = e.clipboardData.files;
          form.submit();
        }
      });
    </script>
    <noscript>
      <button type="submit" value="submit">
        Upload
      </button>
    </noscript>
  </form>
</div>
